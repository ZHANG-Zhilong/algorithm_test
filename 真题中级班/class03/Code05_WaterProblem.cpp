#include <iostream>#include <vector>#include <algorithm>#include <random>using namespace std;class Code05_WaterProblem {public:    static int getWater1(const vector<int> &arr) {        if (arr.size() <= 2) {            return -1;        }        const int N = arr.size();        int l = 0, r = N - 1, leftMax = arr[l++], rightMax = arr[r--];        vector<int> ret(N, 0);        int water = 0;        while (l <= r) {            if (leftMax < rightMax) {                if (arr[l] <= leftMax) {                    water += leftMax - arr[l++];                } else {                    leftMax = arr[l++];                }            } else {                if (arr[r] <= rightMax) {                    water += rightMax - arr[r--];                } else {                    rightMax = arr[r--];                }            }        }        return water;    }    static int getWater2(const vector<int> &arr) {        if (arr.size() <= 2) {            return -1;        }        const int N = arr.size();        vector<int> leftMax(N, 0);        leftMax.front() = arr.front();        vector<int> rightMax(N, 0);        rightMax.back() = arr.back();        int water = 0;        for (int i = 1; i < N; i++) {            leftMax[i] = max(arr[i], leftMax[i - 1]);        }        for (int i = N - 2; i >= 0; i--) {            rightMax[i] = max(arr[i], rightMax[i + 1]);        }        for (int i = 1; i < N - 1; i++) {            int limit = min(leftMax[i - 1], rightMax[i + 1]);            water += max(0, limit - arr[i]);        }        return water;    }};vector<int> getRandomArray(const int from, const int to, const int len) {    if (to < from || len < 1) {        return {};    }    random_device rd;    int range = to - from;    vector<int> ret(len, 0);    for (auto &n : ret) {        n = (double) rd() / rd.max() * range + from;    }    return ret;}void printArr(const vector<int> arr) {    if (arr.empty()) {        return;    }    for (const auto &n : arr) {        cout << n << " ";    }    cout << endl;}void play() {    for (int i = 0; i < 100; i++) {        vector<int> arr = getRandomArray(1, 10, 6);        int a = Code05_WaterProblem::getWater1(arr);        int b = Code05_WaterProblem::getWater2(arr);        if (a != b) {            cout << "sorry, oppts!\n";            printArr(arr);            break;        }    }    cout << "ok" << endl;}int main(int argc, char *argv[]) {    play();    return 0;}